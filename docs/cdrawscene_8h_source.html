<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>develop-manual: deepin-draw/src/drawshape/cdrawscene.h 源文件</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">develop-manual
   &#160;<span id="projectnumber">2021.02</span>
   </div>
   <div id="projectbrief">develop manual about develop-manual</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'搜索');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('cdrawscene_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">cdrawscene.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2019 ~ %YEAR% Deepin Technology Co., Ltd.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Author:     WangXin</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * This program is free software: you can redistribute it and/or modify</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * it under the terms of the GNU General Public License as published by</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * the Free Software Foundation, either version 3 of the License, or</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * any later version.</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * This program is distributed in the hope that it will be useful,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * GNU General Public License for more details.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> */</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#ifndef CDRAWSCENE_H</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#define CDRAWSCENE_H</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;cselecttool.h&quot;</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;QGraphicsScene&gt;</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;QPainterPath&gt;</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;QObject&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;drawshape/globaldefine.h&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;sitemdata.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;cgraphicsitemselectedmgr.h&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">class </span>QGraphicsSceneMouseEvent;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">class </span>QKeyEvent;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_rect_item.html">CGraphicsRectItem</a>;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_polygon_item.html">CGraphicsPolygonItem</a>;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_polygonal_star_item.html">CGraphicsPolygonalStarItem</a>;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_pen_item.html">CGraphicsPenItem</a>;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_line_item.html">CGraphicsLineItem</a>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">//class CGraphicsMasicoItem;</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">//class CGraphicsItemGroup;</span></div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="keyword">class </span>CGraphicsItemHighLight;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_draw_param_sigleton.html">CDrawParamSigleton</a>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">class </span><a class="code" href="class_c_graphics_view.html">CGraphicsView</a>;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> zValueSortDES(QGraphicsItem *info1, QGraphicsItem *info2);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">bool</span> zValueSortASC(QGraphicsItem *info1, QGraphicsItem *info2);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno"><a class="line" href="class_c_draw_scene.html">   47</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_draw_scene.html">CDrawScene</a> : <span class="keyword">public</span> QGraphicsScene</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    Q_OBJECT</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">friend</span> <a class="code" href="class_c_select_tool.html">CSelectTool</a>;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">explicit</span> <a class="code" href="class_c_draw_scene.html#a70a106ccc838efc6d898fe31872ede5f">CDrawScene</a>(<a class="code" href="class_c_graphics_view.html">CGraphicsView</a> *view = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                        <span class="keyword">const</span> QString &amp;uuid = <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                        <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a5d9de01ffe6b0a342e1c77577681376e">isModified</a> = <span class="keyword">false</span>);</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    ~<a class="code" href="class_c_draw_scene.html">CDrawScene</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a960807f4f68ff85b3f373f4693990fac">resetScene</a>();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="class_c_graphics_view.html">CGraphicsView</a> *<a class="code" href="class_c_draw_scene.html#a8a346ee523cf4da892d03f5c147d10d3">drawView</a>();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ab9bab0a9fce11c784342fd61cb2dbdc0">keyEvent</a>(QKeyEvent *<a class="code" href="class_c_draw_scene.html#ab9bab0a9fce11c784342fd61cb2dbdc0">keyEvent</a>);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ac757123b1fdc84d2554ef825477f537e">setCursor</a>(<span class="keyword">const</span> QCursor &amp;cursor);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ae456b543d1fba372c94bebba78841cc0">mouseEvent</a>(QGraphicsSceneMouseEvent *<a class="code" href="class_c_draw_scene.html#ae456b543d1fba372c94bebba78841cc0">mouseEvent</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ad6294ad5cb40c629f7b5eb0414c16d7f">drawBackground</a>(QPainter *painter, <span class="keyword">const</span> QRectF &amp;rect) <span class="keyword">override</span>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ae6c06974d72e667b7b32a2494fdbce00">resetSceneBackgroundBrush</a>();</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#abd4f2ccd0f9381dd91c763076b99109a">showCutItem</a>();</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a736b062f2f4c1b84256299e33ab34479">quitCutMode</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#aeb0bb6276b67a3c7a562f8e50c041c5f">doCutScene</a>();</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#af657c15d31f7b24a0e65fa44b324ecda">doAdjustmentScene</a>(QRectF rect, <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *item = <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#af0a710f28221e37fecd30a95912c3462">setItemsActive</a>(<span class="keywordtype">bool</span> canSelecte);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a37f3f4291f8de34632339a16ad2bce08">blockUpdateBlurItem</a>(<span class="keywordtype">bool</span> b);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">//void updateBlurItem(QGraphicsItem *changeItem = nullptr);</span></div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a3aa11b33b716d3ece3056d611484892e">switchTheme</a>(<span class="keywordtype">int</span> type);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <a class="code" href="class_c_draw_param_sigleton.html">CDrawParamSigleton</a> *<a class="code" href="class_c_draw_scene.html#a004cda33502479b465d9e0c7b1827bd6">getDrawParam</a>();</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a5d9de01ffe6b0a342e1c77577681376e">isModified</a>() <span class="keyword">const</span>;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a7848596937b03effbb2456217f9062c3">setModify</a>(<span class="keywordtype">bool</span> isModify);</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a5e11b4fba4b7b36e0f90198b69b0068f">addCItem</a>(QGraphicsItem *pItem, <span class="keywordtype">bool</span> calZ = <span class="keyword">true</span>);</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ae5d1319e6276c2ff92c8a6c571dff6bd">removeCItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a6bab32625d6818b53ac75726dc4e16f1">blockAssignZValue</a>(<span class="keywordtype">bool</span> b);</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#afc6b70971aed1cc6d5295a70b8ac1d6a">isBussizeItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a196e981b7e48bdb87c3021625befe3fa">isBussizeHandleNodeItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//    /**</span></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">//     * @brief isBzAssicaitedItem　是否是与基本业务图元有关联图元</span></div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">//     */</span></div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">//    static bool isBzAssicaitedItem(QGraphicsItem *pItem);</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#ad5f2df0cdbf3465dfe87b243c320fea7">isNormalGroupItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a2d570bc6770da9c1253c80ed4f5ceb8d">isDrawItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *<a class="code" href="class_c_draw_scene.html#afe8573601d89f8a391fef9d3bd4d39da">getAssociatedBzItem</a>(QGraphicsItem *pItem);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#aeae6a722d901371ac30dfc752cfe791b">selectGroup</a>();</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#afc1413c2d69036a0c618823c80396e1e">clearSelectGroup</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a298a7fa3eb2bce792c33bd4a73620f5f">selectItem</a>(QGraphicsItem *pItem, <span class="keywordtype">bool</span> onlyBzItem = <span class="keyword">true</span>, <span class="keywordtype">bool</span> updateAttri = <span class="keyword">true</span>, <span class="keywordtype">bool</span> updateRect = <span class="keyword">true</span>);</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a4b3d0999987b97a52086d8760907d64f">notSelectItem</a>(QGraphicsItem *pItem, <span class="keywordtype">bool</span> updateAttri = <span class="keyword">true</span>, <span class="keywordtype">bool</span> updateRect = <span class="keyword">true</span>);</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a71c6a4da97104ed85129a61d319d9ee1">blockSelect</a>(<span class="keywordtype">bool</span> b);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a8abc0d974cf38fdeade5411ab8ed49c3">selectItemsByRect</a>(<span class="keyword">const</span> QRectF &amp;rect, <span class="keywordtype">bool</span> replace = <span class="keyword">true</span>, <span class="keywordtype">bool</span> onlyBzItem = <span class="keyword">true</span>);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a0da98bf227a71128421a8fa5cd0952e5">updateMrItemBoundingRect</a>();</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">//EDesSort降序（第一个为最顶层）   EAesSort升序（第一个为最底层）</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <span class="keyword">enum</span> ESortItemTp {EDesSort, EAesSort, ESortCount};</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> <a class="code" href="class_c_draw_scene.html#a2e3e482fd49812110fadf9b732a6c8ef">getBzItems</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;QGraphicsItem *&gt;</a> &amp;items = <a class="code" href="class_q_list.html">QList&lt;QGraphicsItem *&gt;</a>(),</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                                      ESortItemTp tp = EDesSort);</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> <a class="code" href="class_c_draw_scene.html#a3fdd52d7521130306da6b4c43354db9e">getRootItems</a>(ESortItemTp tp = EDesSort);</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a50a3a2722b79eaec43e7fd6019ec070f">moveBzItemsLayer</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                          EZMoveType tp, <span class="keywordtype">int</span> step = 1,</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                          <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *pBaseInGroup = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                          <span class="keywordtype">bool</span> pushToStack = <span class="keyword">false</span>);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;<span class="comment">//    bool isZMovable(const QList&lt;CGraphicsItem *&gt; &amp;items,</span></div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">//                    EZMoveType tp, int step = 1,</span></div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//                    CGraphicsItem *pBaseInGroup = nullptr);</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a67b738e6a288abbcdcb1de4dda257646">isCurrentZMovable</a>(EZMoveType tp, <span class="keywordtype">int</span> step = 1,</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                           <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *pBaseInGroup = <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="class_c_draw_scene.html#a209ec1b3fc1adacdeb6b4b0eec388f49">  281</a></span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a209ec1b3fc1adacdeb6b4b0eec388f49">sortZ</a>(<a class="code" href="class_q_list.html">QList&lt;T *&gt;</a> &amp;list, ESortItemTp tp = EDesSort)</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keyword">auto</span> f = (tp == EAesSort ? zValueSortASC : zValueSortDES);</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        qSort(list.begin(), list.end(), f);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</div><div class="line"><a name="l00292"></a><span class="lineno"><a class="line" href="class_c_draw_scene.html#aab1ee589365351012c10754bd7e0eebe">  292</a></span>&#160;    <span class="keyword">static</span> <a class="code" href="class_q_list.html">QList&lt;T *&gt;</a> <a class="code" href="class_c_draw_scene.html#aab1ee589365351012c10754bd7e0eebe">returnSortZItems</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;T *&gt;</a> &amp;list, ESortItemTp tp = EDesSort)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="class_q_list.html">QList&lt;T *&gt;</a> sorts = list;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="class_c_draw_scene.html#a209ec1b3fc1adacdeb6b4b0eec388f49">sortZ</a>(sorts, tp);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">return</span> sorts;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *<a class="code" href="class_c_draw_scene.html#a42a54c14ca5c8e2649332152651fc596">topBzItem</a>(<span class="keyword">const</span> QPointF &amp;pos, <span class="keywordtype">bool</span> penalgor = <span class="keyword">true</span>, <span class="keywordtype">int</span> IncW = 0);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    QGraphicsItem *<a class="code" href="class_c_draw_scene.html#abdab206ef7b78fdc7223a2ae444f422e">firstItem</a>(<span class="keyword">const</span> QPointF &amp;pos,</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                             <span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;QGraphicsItem *&gt;</a> &amp;items = <a class="code" href="class_q_list.html">QList&lt;QGraphicsItem *&gt;</a>(),</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                             <span class="keywordtype">bool</span> isListDesSorted = <span class="keyword">true</span>,</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                             <span class="keywordtype">bool</span> penalgor = <span class="keyword">false</span>,</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                             <span class="keywordtype">bool</span> isBzItem = <span class="keyword">false</span>,</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                             <span class="keywordtype">bool</span> seeNodeAsBzItem = <span class="keyword">false</span>,</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                             <span class="keywordtype">bool</span> filterMrAndHightLight = <span class="keyword">true</span>,</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                             <span class="keywordtype">int</span> incW = 0);</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">// Cppcheck检测函数没有使用到</span></div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">//    QList&lt;CGraphicsItem *&gt; findBzItems(const QPointF &amp;pos,</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">//                                       bool seeNodeAsBzItem = false,</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">//                                       bool filterMrAndHightLight = true,</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">//                                       int incW = 0);</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    qreal <a class="code" href="class_c_draw_scene.html#a4103a2b5c0feec8b61551e248c1a3c93">getMaxZValue</a>();</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a0b83a7d05604afd52685142ebef40678">blockMouseMoveEvent</a>(<span class="keywordtype">bool</span> b);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#ac06e04b710bfb7001db8df657246cd2f">isBlockMouseMoveEvent</a>();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a51494d17a973a378d644178441d6ba63">recordSecenInfoToCmd</a>(<span class="keywordtype">int</span> exptype, EVarUndoOrRedo varFor, <span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items = <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a>());</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ab36c425132f112946030d45a8025cf25">recordItemsInfoToCmd</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items, EVarUndoOrRedo varFor, <span class="keywordtype">bool</span> clearInfo = <span class="keyword">true</span>);</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#af3ed9935713fda5a5fd8b4a6f367deca">finishRecord</a>(<span class="keywordtype">bool</span> doRedoCmd = <span class="keyword">false</span>);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a14b2e8b0327baca198851f084d7ff09c">isGroupable</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;pBzItems = <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a>());</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="class_c_draw_scene.html#a25286c34f597858ee8687f4dcf354eb3">isUnGroupable</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;pBzItems = <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a>());</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#a3a0d7efd657a631317d7edeb10740cb9">getSameGroup</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;pBzItems,</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                                     <span class="keywordtype">bool</span> top = <span class="keyword">false</span>,</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                     <span class="keywordtype">bool</span> onlyNormal = <span class="keyword">true</span>,</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                                     <span class="keywordtype">bool</span> sameNullCreatVirGroup = <span class="keyword">false</span>);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#a2490c18a3765da2d935d4dafb448cfd3">creatGroup</a>(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;pBzItems = <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a>(),</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                   <span class="keywordtype">int</span> groupType = 0,</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                                   <span class="keywordtype">bool</span> pushUndo = <span class="keyword">false</span>,</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                                   <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *pBzItemZBase = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                                   <span class="keywordtype">bool</span> getMinZItemIfNull = <span class="keyword">false</span>);</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keyword">static</span> <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#a8c57420756b36c102c1a06f258579695">copyCreatGroup</a>(<a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *pGroup);</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a18483cb96bd17c083423a356180a742d">cancelGroup</a>(<a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *pGroup = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                     <span class="keywordtype">bool</span> pushUndo = <span class="keyword">false</span>);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#afa0d5c238ab8d21ef2a1b2d731df6eab">destoryGroup</a>(<a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *pGroup, <span class="keywordtype">bool</span> deleteIt = <span class="keyword">false</span>, <span class="keywordtype">bool</span> pushUndo = <span class="keyword">false</span>);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a31776a51aa4bd382632f845ec05ab133">destoryAllGroup</a>(<span class="keywordtype">bool</span> deleteIt = <span class="keyword">false</span>, <span class="keywordtype">bool</span> pushUndo = <span class="keyword">false</span>);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="comment">//    /**</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="comment">//     * @brief getGroup 通过一个业务图元获取到它所处的组合图元(返回空证明不在某个组合图元中,即不处于组合状态)</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="comment">//     */</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">//    CGraphicsItemGroup *getGroup(CGraphicsItem *pBzItem);</span></div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <a class="code" href="class_q_list.html">QList&lt;CGraphicsItemGroup *&gt;</a> <a class="code" href="class_c_draw_scene.html#aa02c608f7470da05d9e14d54ea0aba18">bzGroups</a>();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;signals:</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a7f6b6a7b9fa851a7424d8eb91e97a203">signalAttributeChanged</a>(<span class="keywordtype">bool</span> flag, <span class="keywordtype">int</span> primitiveType);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#aa61888fa91282dea15e21dc565a2fdec">signalChangeToSelect</a>(<span class="keywordtype">bool</span> showTitle = <span class="keyword">false</span>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a95ff62c4e78695482e7c5ef7cdbd9997">signalQuitCutAndChangeToSelect</a>();</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a845e6473234dbf2b032cf87b488869e8">itemAdded</a>(QGraphicsItem *item, <span class="keywordtype">bool</span> pushToStack = <span class="keyword">true</span>);</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a26ccb640c56c9ee9697fe320b675039d">signalUpdateCutSize</a>();</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a318a30eec320e20791d9ebcc9d5a2471">signalUpdateTextFont</a>();</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a4ef243a1e2e81e469a726080561518db">signalSceneCut</a>(QRectF newRect);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a54b64729173dc95bdd1212ca1eadae99">signalIsModify</a>(<span class="keywordtype">bool</span> isModify);</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keyword">public</span> slots:</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a592147026be1bca410fedc338c5cb6e0">changeMouseShape</a>(EDrawToolMode type);</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a5682b66a4b7b20e752d845688d949b76">setDrawForeground</a>(<span class="keywordtype">bool</span> b);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;<span class="comment">//    /**</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;<span class="comment">//     * @brief setDrawForeground 是否绘制前景元素</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<span class="comment">//     */</span></div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;<span class="comment">//    bool isDrawedForeground();</span></div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a9abb3e65af23ad51c98f84985f9d6fc2">doLeave</a>();</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ab0221198ca058611e40e20349c9f6786">mousePressEvent</a>(QGraphicsSceneMouseEvent *mouseEvent) <span class="keyword">override</span>;</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#ab66811e984bd6d19b7f924d9cd1f5744">mouseMoveEvent</a>(QGraphicsSceneMouseEvent *mouseEvent) <span class="keyword">override</span>;</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#a8327f52622f543d1267638c9145b0153">mouseReleaseEvent</a>(QGraphicsSceneMouseEvent *mouseEvent) <span class="keyword">override</span>;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordtype">void</span> mouseDoubleClickEvent(QGraphicsSceneMouseEvent *mouseEvent) <span class="keyword">override</span>;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordtype">bool</span> event(QEvent *event) <span class="keyword">override</span>;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="class_c_draw_scene.html#aeb1bee2d9e6c60d4ecc4fdced0eabda6">drawItems</a>(QPainter *painter, <span class="keywordtype">int</span> numItems,</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                   QGraphicsItem *items[],</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                   <span class="keyword">const</span> QStyleOptionGraphicsItem options[],</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;                   QWidget *widget = <span class="keyword">nullptr</span>) <span class="keyword">override</span>;</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordtype">void</span> drawForeground(QPainter *painter, <span class="keyword">const</span> QRectF &amp;rect) <span class="keyword">override</span>;</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">void</span> refreshLook(<span class="keyword">const</span> QPointF &amp;pos = QPointF());</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="comment">     * @breaf: clearHighlight 清除高亮图元路径</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="comment">    */</span></div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    <span class="keywordtype">void</span> clearHighlight();</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="keywordtype">void</span> setHighlightHelper(<span class="keyword">const</span> QPainterPath &amp;path);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;</div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="comment">//    QPainterPath hightLightPath();</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    <span class="keyword">using</span> <a class="code" href="struct_c_bz_group_tree.html">CGroupBzItemsTree</a> = <a class="code" href="struct_c_bz_group_tree.html">CBzGroupTree&lt;CGraphicsItem *&gt;</a>;</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <a class="code" href="struct_c_bz_group_tree.html">CGroupBzItemsTree</a> <a class="code" href="class_c_draw_scene.html#add4d1c12d9e4f1311e6c70d6ff36bf2a">getGroupTree</a>(<a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *pGroup = <span class="keyword">nullptr</span>);</div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <a class="code" href="struct_c_bz_group_tree.html">CGroupBzItemsTreeInfo</a> <a class="code" href="class_c_draw_scene.html#ac34dd9e488be362616dafd3364732cb5">getGroupTreeInfo</a>(<a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *pGroup = <span class="keyword">nullptr</span>, EDataReason reson = EDuplicate);</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div><div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#ad2d9abc6c6588576f30dd964099b56ec">loadGroupTree</a>(<span class="keyword">const</span> <a class="code" href="struct_c_bz_group_tree.html">CGroupBzItemsTree</a> &amp;info);</div><div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *<a class="code" href="class_c_draw_scene.html#a0b4b77e46067862416a78d3af139dd4f">loadGroupTreeInfo</a>(<span class="keyword">const</span> <a class="code" href="struct_c_bz_group_tree.html">CGroupBzItemsTreeInfo</a> &amp;info, <span class="keywordtype">bool</span> notClear = <span class="keyword">false</span>);</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="keywordtype">void</span> moveItemsZDown(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items, <span class="keywordtype">int</span> step);</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="keywordtype">void</span> moveItemsZUp(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items, <span class="keywordtype">int</span> step);</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keywordtype">void</span> sortZBaseOneBzItem(<span class="keyword">const</span> <a class="code" href="class_q_list.html">QList&lt;CGraphicsItem *&gt;</a> &amp;items, <a class="code" href="class_c_graphics_item.html">CGraphicsItem</a> *pBaseItem);</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    <a class="code" href="class_c_draw_param_sigleton.html">CDrawParamSigleton</a> *m_drawParam;<span class="comment">//数据</span></div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="keywordtype">bool</span> m_bIsEditTextFlag;</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    QCursor m_drawMouse;</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    QCursor m_lineMouse;</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    QCursor m_pengatonMouse;</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    QCursor m_rectangleMouse;</div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    QCursor m_roundMouse;</div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    QCursor m_starMouse;</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    QCursor m_triangleMouse;</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    QCursor m_textMouse;</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    QCursor m_brushMouse;</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    QCursor m_blurMouse;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="class_c_graphics_item_group.html">CGraphicsItemGroup</a> *m_pSelGroupItem = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="class_q_list.html">QList&lt;CGraphicsItemGroup *&gt;</a> m_pGroups;       <span class="comment">//正在使用(场景中的)的组合图元</span></div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    <a class="code" href="class_q_list.html">QList&lt;CGraphicsItemGroup *&gt;</a> m_pCachGroups;   <span class="comment">//未被使用(不在场景中的)的组合图元</span></div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="keywordtype">bool</span> dbCLicked    = <span class="keyword">false</span>;</div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="keywordtype">bool</span> blockZAssign = <span class="keyword">false</span>;</div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordtype">bool</span> blockSel     = <span class="keyword">false</span>;</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <span class="keywordtype">bool</span> blockMouseMoveEventFlag = <span class="keyword">false</span>;</div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="keywordtype">bool</span> blockMscUpdate = <span class="keyword">false</span>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="keywordtype">bool</span> bDrawForeground = <span class="keyword">true</span>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    QPainterPath _highlight;</div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">/* 文字可编辑光标 */</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    QCursor m_textEditCursor;</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;};</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;Q_DECLARE_METATYPE(<a class="code" href="struct_c_bz_group_tree.html">CDrawScene::CGroupBzItemsTree</a>);</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="preprocessor">#endif // CDRAWSCENE_H</span></div><div class="ttc" id="class_c_draw_scene_html_ac34dd9e488be362616dafd3364732cb5"><div class="ttname"><a href="class_c_draw_scene.html#ac34dd9e488be362616dafd3364732cb5">CDrawScene::getGroupTreeInfo</a></div><div class="ttdeci">CGroupBzItemsTreeInfo getGroupTreeInfo(CGraphicsItemGroup *pGroup=nullptr, EDataReason reson=EDuplicate)</div><div class="ttdoc">getGroupTreeInfo 获取pGroup的组合信息(以树结构进行表示,抽象出所有业务图元的数据,以CGraphicsUnit的数据...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00460">cdrawscene.cpp:460</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a50a3a2722b79eaec43e7fd6019ec070f"><div class="ttname"><a href="class_c_draw_scene.html#a50a3a2722b79eaec43e7fd6019ec070f">CDrawScene::moveBzItemsLayer</a></div><div class="ttdeci">void moveBzItemsLayer(const QList&lt; CGraphicsItem *&gt; &amp;items, EZMoveType tp, int step=1, CGraphicsItem *pBaseInGroup=nullptr, bool pushToStack=false)</div><div class="ttdoc">moveBzItemsLayer 设置图元绘制的顺序 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01208">cdrawscene.cpp:1208</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aeb1bee2d9e6c60d4ecc4fdced0eabda6"><div class="ttname"><a href="class_c_draw_scene.html#aeb1bee2d9e6c60d4ecc4fdced0eabda6">CDrawScene::drawItems</a></div><div class="ttdeci">void drawItems(QPainter *painter, int numItems, QGraphicsItem *items[], const QStyleOptionGraphicsItem options[], QWidget *widget=nullptr) override</div><div class="ttdoc">drawItems 绘制所有图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00329">cdrawscene.cpp:329</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a26ccb640c56c9ee9697fe320b675039d"><div class="ttname"><a href="class_c_draw_scene.html#a26ccb640c56c9ee9697fe320b675039d">CDrawScene::signalUpdateCutSize</a></div><div class="ttdeci">void signalUpdateCutSize()</div><div class="ttdoc">signalUpdateCutSize 更新裁剪的大小 </div></div>
<div class="ttc" id="class_c_draw_scene_html_a4103a2b5c0feec8b61551e248c1a3c93"><div class="ttname"><a href="class_c_draw_scene.html#a4103a2b5c0feec8b61551e248c1a3c93">CDrawScene::getMaxZValue</a></div><div class="ttdeci">qreal getMaxZValue()</div><div class="ttdoc">getMaxZValue　获取图元最大z值 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01338">cdrawscene.cpp:1338</a></div></div>
<div class="ttc" id="class_c_graphics_view_html"><div class="ttname"><a href="class_c_graphics_view.html">CGraphicsView</a></div><div class="ttdoc">The CGraphicsView class 图元显示VIEW 类 </div><div class="ttdef"><b>Definition:</b> <a href="cgraphicsview_8h_source.html#l00052">cgraphicsview.h:52</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ad2d9abc6c6588576f30dd964099b56ec"><div class="ttname"><a href="class_c_draw_scene.html#ad2d9abc6c6588576f30dd964099b56ec">CDrawScene::loadGroupTree</a></div><div class="ttdeci">CGraphicsItemGroup * loadGroupTree(const CGroupBzItemsTree &amp;info)</div><div class="ttdoc">loadGroupTree 从组合树中读取到信息直接实现改组合(返回顶层组合) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00517">cdrawscene.cpp:517</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a298a7fa3eb2bce792c33bd4a73620f5f"><div class="ttname"><a href="class_c_draw_scene.html#a298a7fa3eb2bce792c33bd4a73620f5f">CDrawScene::selectItem</a></div><div class="ttdeci">void selectItem(QGraphicsItem *pItem, bool onlyBzItem=true, bool updateAttri=true, bool updateRect=true)</div><div class="ttdoc">selectItem　选择一个图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01107">cdrawscene.cpp:1107</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a42a54c14ca5c8e2649332152651fc596"><div class="ttname"><a href="class_c_draw_scene.html#a42a54c14ca5c8e2649332152651fc596">CDrawScene::topBzItem</a></div><div class="ttdeci">CGraphicsItem * topBzItem(const QPointF &amp;pos, bool penalgor=true, int IncW=0)</div><div class="ttdoc">topBzItem　获取某一点下的最顶层画板图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01359">cdrawscene.cpp:1359</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aab1ee589365351012c10754bd7e0eebe"><div class="ttname"><a href="class_c_draw_scene.html#aab1ee589365351012c10754bd7e0eebe">CDrawScene::returnSortZItems</a></div><div class="ttdeci">static QList&lt; T * &gt; returnSortZItems(const QList&lt; T *&gt; &amp;list, ESortItemTp tp=EDesSort)</div><div class="ttdoc">returnSortZItems　按照某一升降顺序进行排序 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8h_source.html#l00292">cdrawscene.h:292</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a37f3f4291f8de34632339a16ad2bce08"><div class="ttname"><a href="class_c_draw_scene.html#a37f3f4291f8de34632339a16ad2bce08">CDrawScene::blockUpdateBlurItem</a></div><div class="ttdeci">void blockUpdateBlurItem(bool b)</div><div class="ttdoc">blockUpdateBlurItem　禁止刷新模糊(用于减少模糊的刷新次数,避免多次重复刷新,记得还原) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00953">cdrawscene.cpp:953</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a8abc0d974cf38fdeade5411ab8ed49c3"><div class="ttname"><a href="class_c_draw_scene.html#a8abc0d974cf38fdeade5411ab8ed49c3">CDrawScene::selectItemsByRect</a></div><div class="ttdeci">void selectItemsByRect(const QRectF &amp;rect, bool replace=true, bool onlyBzItem=true)</div><div class="ttdoc">selectItemsByRect　通过一个矩形范围选中图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01138">cdrawscene.cpp:1138</a></div></div>
<div class="ttc" id="class_c_graphics_item_html"><div class="ttname"><a href="class_c_graphics_item.html">CGraphicsItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicsitem_8h_source.html#l00043">cgraphicsitem.h:43</a></div></div>
<div class="ttc" id="class_c_select_tool_html"><div class="ttname"><a href="class_c_select_tool.html">CSelectTool</a></div><div class="ttdef"><b>Definition:</b> <a href="cselecttool_8h_source.html#l00038">cselecttool.h:38</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a9abb3e65af23ad51c98f84985f9d6fc2"><div class="ttname"><a href="class_c_draw_scene.html#a9abb3e65af23ad51c98f84985f9d6fc2">CDrawScene::doLeave</a></div><div class="ttdeci">void doLeave()</div><div class="ttdoc">setDrawForeground 是否绘制前景元素 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00244">cdrawscene.cpp:244</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a209ec1b3fc1adacdeb6b4b0eec388f49"><div class="ttname"><a href="class_c_draw_scene.html#a209ec1b3fc1adacdeb6b4b0eec388f49">CDrawScene::sortZ</a></div><div class="ttdeci">static void sortZ(QList&lt; T *&gt; &amp;list, ESortItemTp tp=EDesSort)</div><div class="ttdoc">sortZ　通过z值对一组图元进行排序 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8h_source.html#l00281">cdrawscene.h:281</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a67b738e6a288abbcdcb1de4dda257646"><div class="ttname"><a href="class_c_draw_scene.html#a67b738e6a288abbcdcb1de4dda257646">CDrawScene::isCurrentZMovable</a></div><div class="ttdeci">bool isCurrentZMovable(EZMoveType tp, int step=1, CGraphicsItem *pBaseInGroup=nullptr)</div><div class="ttdoc">isCurrentZMovable 判断当前是否可改变图层顺序 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01281">cdrawscene.cpp:1281</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a5682b66a4b7b20e752d845688d949b76"><div class="ttname"><a href="class_c_draw_scene.html#a5682b66a4b7b20e752d845688d949b76">CDrawScene::setDrawForeground</a></div><div class="ttdeci">void setDrawForeground(bool b)</div><div class="ttdoc">setDrawForeground 是否绘制前景元素(前景主要绘制了框选矩形,高亮,模糊图元截图时不需要绘制这些) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00931">cdrawscene.cpp:931</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a3a0d7efd657a631317d7edeb10740cb9"><div class="ttname"><a href="class_c_draw_scene.html#a3a0d7efd657a631317d7edeb10740cb9">CDrawScene::getSameGroup</a></div><div class="ttdeci">CGraphicsItemGroup * getSameGroup(const QList&lt; CGraphicsItem *&gt; &amp;pBzItems, bool top=false, bool onlyNormal=true, bool sameNullCreatVirGroup=false)</div><div class="ttdoc">getManageGroup 获取到传入的图元的共同的顶层组合(如果不存在,那么返回空) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01639">cdrawscene.cpp:1639</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_afa0d5c238ab8d21ef2a1b2d731df6eab"><div class="ttname"><a href="class_c_draw_scene.html#afa0d5c238ab8d21ef2a1b2d731df6eab">CDrawScene::destoryGroup</a></div><div class="ttdeci">void destoryGroup(CGraphicsItemGroup *pGroup, bool deleteIt=false, bool pushUndo=false)</div><div class="ttdoc">destoryGroup 销毁一个组合 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01789">cdrawscene.cpp:1789</a></div></div>
<div class="ttc" id="class_c_graphics_line_item_html"><div class="ttname"><a href="class_c_graphics_line_item.html">CGraphicsLineItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicslineitem_8h_source.html#l00026">cgraphicslineitem.h:26</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a736b062f2f4c1b84256299e33ab34479"><div class="ttname"><a href="class_c_draw_scene.html#a736b062f2f4c1b84256299e33ab34479">CDrawScene::quitCutMode</a></div><div class="ttdeci">void quitCutMode()</div><div class="ttdoc">quitCutMode 退出裁剪 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00808">cdrawscene.cpp:808</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ab0221198ca058611e40e20349c9f6786"><div class="ttname"><a href="class_c_draw_scene.html#ab0221198ca058611e40e20349c9f6786">CDrawScene::mousePressEvent</a></div><div class="ttdeci">void mousePressEvent(QGraphicsSceneMouseEvent *mouseEvent) override</div><div class="ttdoc">mousePressEvent 鼠标按下事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00183">cdrawscene.cpp:183</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ac06e04b710bfb7001db8df657246cd2f"><div class="ttname"><a href="class_c_draw_scene.html#ac06e04b710bfb7001db8df657246cd2f">CDrawScene::isBlockMouseMoveEvent</a></div><div class="ttdeci">bool isBlockMouseMoveEvent()</div><div class="ttdoc">当前是否处于阻止响应鼠标移动事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01544">cdrawscene.cpp:1544</a></div></div>
<div class="ttc" id="class_c_graphics_polygonal_star_item_html"><div class="ttname"><a href="class_c_graphics_polygonal_star_item.html">CGraphicsPolygonalStarItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicspolygonalstaritem_8h_source.html#l00026">cgraphicspolygonalstaritem.h:26</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_afc1413c2d69036a0c618823c80396e1e"><div class="ttname"><a href="class_c_draw_scene.html#afc1413c2d69036a0c618823c80396e1e">CDrawScene::clearSelectGroup</a></div><div class="ttdeci">void clearSelectGroup()</div><div class="ttdoc">clearSelectGroup　清理选中 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01101">cdrawscene.cpp:1101</a></div></div>
<div class="ttc" id="struct_c_bz_group_tree_html"><div class="ttname"><a href="struct_c_bz_group_tree.html">CBzGroupTree</a></div><div class="ttdef"><b>Definition:</b> <a href="sitemdata_8h_source.html#l01038">sitemdata.h:1038</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a7848596937b03effbb2456217f9062c3"><div class="ttname"><a href="class_c_draw_scene.html#a7848596937b03effbb2456217f9062c3">CDrawScene::setModify</a></div><div class="ttdeci">void setModify(bool isModify)</div><div class="ttdoc">setModify　设置场景是否被修改过(发生过变化) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01003">cdrawscene.cpp:1003</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_afe8573601d89f8a391fef9d3bd4d39da"><div class="ttname"><a href="class_c_draw_scene.html#afe8573601d89f8a391fef9d3bd4d39da">CDrawScene::getAssociatedBzItem</a></div><div class="ttdeci">CGraphicsItem * getAssociatedBzItem(QGraphicsItem *pItem)</div><div class="ttdoc">getAssociatedBzItem　得到与pItem有关联的基本业务图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01085">cdrawscene.cpp:1085</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_abd4f2ccd0f9381dd91c763076b99109a"><div class="ttname"><a href="class_c_draw_scene.html#abd4f2ccd0f9381dd91c763076b99109a">CDrawScene::showCutItem</a></div><div class="ttdeci">void showCutItem()</div><div class="ttdoc">showCutItem 显示裁剪图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00797">cdrawscene.cpp:797</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ae456b543d1fba372c94bebba78841cc0"><div class="ttname"><a href="class_c_draw_scene.html#ae456b543d1fba372c94bebba78841cc0">CDrawScene::mouseEvent</a></div><div class="ttdeci">void mouseEvent(QGraphicsSceneMouseEvent *mouseEvent)</div><div class="ttdoc">mouseEvent 鼠标事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00125">cdrawscene.cpp:125</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_af657c15d31f7b24a0e65fa44b324ecda"><div class="ttname"><a href="class_c_draw_scene.html#af657c15d31f7b24a0e65fa44b324ecda">CDrawScene::doAdjustmentScene</a></div><div class="ttdeci">void doAdjustmentScene(QRectF rect, CGraphicsItem *item=nullptr)</div><div class="ttdoc">doAdjustmentScene 自适应 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00851">cdrawscene.cpp:851</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a4ef243a1e2e81e469a726080561518db"><div class="ttname"><a href="class_c_draw_scene.html#a4ef243a1e2e81e469a726080561518db">CDrawScene::signalSceneCut</a></div><div class="ttdeci">void signalSceneCut(QRectF newRect)</div><div class="ttdoc">signalSceneCut 裁剪场景 </div></div>
<div class="ttc" id="class_c_draw_scene_html_a5d9de01ffe6b0a342e1c77577681376e"><div class="ttname"><a href="class_c_draw_scene.html#a5d9de01ffe6b0a342e1c77577681376e">CDrawScene::isModified</a></div><div class="ttdeci">bool isModified() const</div><div class="ttdoc">isModified　是否被修改过 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00998">cdrawscene.cpp:998</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a0b4b77e46067862416a78d3af139dd4f"><div class="ttname"><a href="class_c_draw_scene.html#a0b4b77e46067862416a78d3af139dd4f">CDrawScene::loadGroupTreeInfo</a></div><div class="ttdeci">CGraphicsItemGroup * loadGroupTreeInfo(const CGroupBzItemsTreeInfo &amp;info, bool notClear=false)</div><div class="ttdoc">loadGroupTreeInfo 从组合树中读取到信息直接实现改组合(返回顶层组合) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00552">cdrawscene.cpp:552</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a25286c34f597858ee8687f4dcf354eb3"><div class="ttname"><a href="class_c_draw_scene.html#a25286c34f597858ee8687f4dcf354eb3">CDrawScene::isUnGroupable</a></div><div class="ttdeci">bool isUnGroupable(const QList&lt; CGraphicsItem *&gt; &amp;pBzItems=QList&lt; CGraphicsItem *&gt;())</div><div class="ttdoc">isUnGroupable 框选的内容是否有组合图元可以进行撤销组合 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01623">cdrawscene.cpp:1623</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a95ff62c4e78695482e7c5ef7cdbd9997"><div class="ttname"><a href="class_c_draw_scene.html#a95ff62c4e78695482e7c5ef7cdbd9997">CDrawScene::signalQuitCutAndChangeToSelect</a></div><div class="ttdeci">void signalQuitCutAndChangeToSelect()</div><div class="ttdoc">signalQuitCutMode 退出裁剪模式 </div></div>
<div class="ttc" id="class_c_draw_scene_html"><div class="ttname"><a href="class_c_draw_scene.html">CDrawScene</a></div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8h_source.html#l00047">cdrawscene.h:47</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aeae6a722d901371ac30dfc752cfe791b"><div class="ttname"><a href="class_c_draw_scene.html#aeae6a722d901371ac30dfc752cfe791b">CDrawScene::selectGroup</a></div><div class="ttdeci">CGraphicsItemGroup * selectGroup()</div><div class="ttdoc">selectGroup　多选组合图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00988">cdrawscene.cpp:988</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a318a30eec320e20791d9ebcc9d5a2471"><div class="ttname"><a href="class_c_draw_scene.html#a318a30eec320e20791d9ebcc9d5a2471">CDrawScene::signalUpdateTextFont</a></div><div class="ttdeci">void signalUpdateTextFont()</div><div class="ttdoc">signalUpdateTextFont 更新文字字体 </div></div>
<div class="ttc" id="class_c_draw_scene_html_a71c6a4da97104ed85129a61d319d9ee1"><div class="ttname"><a href="class_c_draw_scene.html#a71c6a4da97104ed85129a61d319d9ee1">CDrawScene::blockSelect</a></div><div class="ttdeci">void blockSelect(bool b)</div><div class="ttdoc">blockSelect锁住选中 (为true后调用selectItem或selectItemsByRect函数将没有作用,应用场景一般加载组合树时...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01133">cdrawscene.cpp:1133</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_af3ed9935713fda5a5fd8b4a6f367deca"><div class="ttname"><a href="class_c_draw_scene.html#af3ed9935713fda5a5fd8b4a6f367deca">CDrawScene::finishRecord</a></div><div class="ttdeci">void finishRecord(bool doRedoCmd=false)</div><div class="ttdoc">完成记录执行操作 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01604">cdrawscene.cpp:1604</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_afc6b70971aed1cc6d5295a70b8ac1d6a"><div class="ttname"><a href="class_c_draw_scene.html#afc6b70971aed1cc6d5295a70b8ac1d6a">CDrawScene::isBussizeItem</a></div><div class="ttdeci">static bool isBussizeItem(QGraphicsItem *pItem)</div><div class="ttdoc">isBussizeItem　是否是基本业务图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01041">cdrawscene.cpp:1041</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a592147026be1bca410fedc338c5cb6e0"><div class="ttname"><a href="class_c_draw_scene.html#a592147026be1bca410fedc338c5cb6e0">CDrawScene::changeMouseShape</a></div><div class="ttdeci">void changeMouseShape(EDrawToolMode type)</div><div class="ttdoc">changeMouseShape 切换鼠标形状 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00872">cdrawscene.cpp:872</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ab36c425132f112946030d45a8025cf25"><div class="ttname"><a href="class_c_draw_scene.html#ab36c425132f112946030d45a8025cf25">CDrawScene::recordItemsInfoToCmd</a></div><div class="ttdeci">void recordItemsInfoToCmd(const QList&lt; CGraphicsItem *&gt; &amp;items, EVarUndoOrRedo varFor, bool clearInfo=true)</div><div class="ttdoc">recordItemsInfoToCmd 记录图元的信息 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01583">cdrawscene.cpp:1583</a></div></div>
<div class="ttc" id="class_c_graphics_rect_item_html"><div class="ttname"><a href="class_c_graphics_rect_item.html">CGraphicsRectItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicsrectitem_8h_source.html#l00031">cgraphicsrectitem.h:31</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a6bab32625d6818b53ac75726dc4e16f1"><div class="ttname"><a href="class_c_draw_scene.html#a6bab32625d6818b53ac75726dc4e16f1">CDrawScene::blockAssignZValue</a></div><div class="ttdeci">void blockAssignZValue(bool b)</div><div class="ttdoc">blockAssignZValue　禁止自动分配给图元z值(在一些直接还原图元z值的情况加入场景时,不需要进行z值分配) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01036">cdrawscene.cpp:1036</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_add4d1c12d9e4f1311e6c70d6ff36bf2a"><div class="ttname"><a href="class_c_draw_scene.html#add4d1c12d9e4f1311e6c70d6ff36bf2a">CDrawScene::getGroupTree</a></div><div class="ttdeci">CGroupBzItemsTree getGroupTree(CGraphicsItemGroup *pGroup=nullptr)</div><div class="ttdoc">getGroupTree 获取pGroup的组合信息(以树结构进行表示,业务图元以CGraphicsItem指针的形式保存) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00428">cdrawscene.cpp:428</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ac757123b1fdc84d2554ef825477f537e"><div class="ttname"><a href="class_c_draw_scene.html#ac757123b1fdc84d2554ef825477f537e">CDrawScene::setCursor</a></div><div class="ttdeci">void setCursor(const QCursor &amp;cursor)</div><div class="ttdoc">setCursor 设置鼠标指针形状 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00174">cdrawscene.cpp:174</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a0da98bf227a71128421a8fa5cd0952e5"><div class="ttname"><a href="class_c_draw_scene.html#a0da98bf227a71128421a8fa5cd0952e5">CDrawScene::updateMrItemBoundingRect</a></div><div class="ttdeci">void updateMrItemBoundingRect()</div><div class="ttdoc">selectItemsByRect　通过一个矩形范围选中图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01165">cdrawscene.cpp:1165</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a70a106ccc838efc6d898fe31872ede5f"><div class="ttname"><a href="class_c_draw_scene.html#a70a106ccc838efc6d898fe31872ede5f">CDrawScene::CDrawScene</a></div><div class="ttdeci">CDrawScene(CGraphicsView *view=nullptr, const QString &amp;uuid=&quot;&quot;, bool isModified=false)</div><div class="ttdoc">CDrawScene 构造函数 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00059">cdrawscene.cpp:59</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ad6294ad5cb40c629f7b5eb0414c16d7f"><div class="ttname"><a href="class_c_draw_scene.html#ad6294ad5cb40c629f7b5eb0414c16d7f">CDrawScene::drawBackground</a></div><div class="ttdeci">void drawBackground(QPainter *painter, const QRectF &amp;rect) override</div><div class="ttdoc">drawBackground </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00149">cdrawscene.cpp:149</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a3aa11b33b716d3ece3056d611484892e"><div class="ttname"><a href="class_c_draw_scene.html#a3aa11b33b716d3ece3056d611484892e">CDrawScene::switchTheme</a></div><div class="ttdeci">void switchTheme(int type)</div><div class="ttdoc">updateBlurItem 刷新模糊 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00973">cdrawscene.cpp:973</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a2e3e482fd49812110fadf9b732a6c8ef"><div class="ttname"><a href="class_c_draw_scene.html#a2e3e482fd49812110fadf9b732a6c8ef">CDrawScene::getBzItems</a></div><div class="ttdeci">QList&lt; CGraphicsItem * &gt; getBzItems(const QList&lt; QGraphicsItem *&gt; &amp;items=QList&lt; QGraphicsItem *&gt;(), ESortItemTp tp=EDesSort)</div><div class="ttdoc">getBzItems　获取一组图元中的基本业务图元(默认是按照z值降序) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01170">cdrawscene.cpp:1170</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a2490c18a3765da2d935d4dafb448cfd3"><div class="ttname"><a href="class_c_draw_scene.html#a2490c18a3765da2d935d4dafb448cfd3">CDrawScene::creatGroup</a></div><div class="ttdeci">CGraphicsItemGroup * creatGroup(const QList&lt; CGraphicsItem *&gt; &amp;pBzItems=QList&lt; CGraphicsItem *&gt;(), int groupType=0, bool pushUndo=false, CGraphicsItem *pBzItemZBase=nullptr, bool getMinZItemIfNull=false)</div><div class="ttdoc">creatGroup 基于多个图元创建一个组合(会将新创建的组合加入到这个场景中) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01671">cdrawscene.cpp:1671</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a4b3d0999987b97a52086d8760907d64f"><div class="ttname"><a href="class_c_draw_scene.html#a4b3d0999987b97a52086d8760907d64f">CDrawScene::notSelectItem</a></div><div class="ttdeci">void notSelectItem(QGraphicsItem *pItem, bool updateAttri=true, bool updateRect=true)</div><div class="ttdoc">notSelectItem　不选择某个图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01124">cdrawscene.cpp:1124</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a2d570bc6770da9c1253c80ed4f5ceb8d"><div class="ttname"><a href="class_c_draw_scene.html#a2d570bc6770da9c1253c80ed4f5ceb8d">CDrawScene::isDrawItem</a></div><div class="ttdeci">static bool isDrawItem(QGraphicsItem *pItem)</div><div class="ttdoc">isDrawItem　是否是画板图元(Normal组合图元+基本业务图元) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01080">cdrawscene.cpp:1080</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ae6c06974d72e667b7b32a2494fdbce00"><div class="ttname"><a href="class_c_draw_scene.html#ae6c06974d72e667b7b32a2494fdbce00">CDrawScene::resetSceneBackgroundBrush</a></div><div class="ttdeci">void resetSceneBackgroundBrush()</div><div class="ttdoc">resetSceneBackgroundBrush 重新设置背景颜色 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00164">cdrawscene.cpp:164</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a54b64729173dc95bdd1212ca1eadae99"><div class="ttname"><a href="class_c_draw_scene.html#a54b64729173dc95bdd1212ca1eadae99">CDrawScene::signalIsModify</a></div><div class="ttdeci">void signalIsModify(bool isModify)</div><div class="ttdoc">signalIsModify 是否更改 </div></div>
<div class="ttc" id="class_c_draw_scene_html_af0a710f28221e37fecd30a95912c3462"><div class="ttname"><a href="class_c_draw_scene.html#af0a710f28221e37fecd30a95912c3462">CDrawScene::setItemsActive</a></div><div class="ttdeci">void setItemsActive(bool canSelecte)</div><div class="ttdoc">setItemsActive　设置所有图元是否是活跃的,可操作的(可能的应用场景:裁剪模式下图元都不可操作) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00941">cdrawscene.cpp:941</a></div></div>
<div class="ttc" id="class_c_graphics_pen_item_html"><div class="ttname"><a href="class_c_graphics_pen_item.html">CGraphicsPenItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicspenitem_8h_source.html#l00028">cgraphicspenitem.h:28</a></div></div>
<div class="ttc" id="class_c_graphics_polygon_item_html"><div class="ttname"><a href="class_c_graphics_polygon_item.html">CGraphicsPolygonItem</a></div><div class="ttdef"><b>Definition:</b> <a href="cgraphicspolygonitem_8h_source.html#l00029">cgraphicspolygonitem.h:29</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a14b2e8b0327baca198851f084d7ff09c"><div class="ttname"><a href="class_c_draw_scene.html#a14b2e8b0327baca198851f084d7ff09c">CDrawScene::isGroupable</a></div><div class="ttdeci">bool isGroupable(const QList&lt; CGraphicsItem *&gt; &amp;pBzItems=QList&lt; CGraphicsItem *&gt;())</div><div class="ttdoc">isGroupable 是否可以创建一个组合(默认是判断当前场景选中情况下是否可以进行组合) </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01609">cdrawscene.cpp:1609</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aeb0bb6276b67a3c7a562f8e50c041c5f"><div class="ttname"><a href="class_c_draw_scene.html#aeb0bb6276b67a3c7a562f8e50c041c5f">CDrawScene::doCutScene</a></div><div class="ttdeci">void doCutScene()</div><div class="ttdoc">doCutScene 进行裁剪 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00822">cdrawscene.cpp:822</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_abdab206ef7b78fdc7223a2ae444f422e"><div class="ttname"><a href="class_c_draw_scene.html#abdab206ef7b78fdc7223a2ae444f422e">CDrawScene::firstItem</a></div><div class="ttdeci">QGraphicsItem * firstItem(const QPointF &amp;pos, const QList&lt; QGraphicsItem *&gt; &amp;items=QList&lt; QGraphicsItem *&gt;(), bool isListDesSorted=true, bool penalgor=false, bool isBzItem=false, bool seeNodeAsBzItem=false, bool filterMrAndHightLight=true, int incW=0)</div><div class="ttdoc">firstItem　获取一组图元中的第一个(最顶层)图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01365">cdrawscene.cpp:1365</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a004cda33502479b465d9e0c7b1827bd6"><div class="ttname"><a href="class_c_draw_scene.html#a004cda33502479b465d9e0c7b1827bd6">CDrawScene::getDrawParam</a></div><div class="ttdeci">CDrawParamSigleton * getDrawParam()</div><div class="ttdoc">getCDrawParam　获取绘制数据 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00993">cdrawscene.cpp:993</a></div></div>
<div class="ttc" id="class_c_draw_param_sigleton_html"><div class="ttname"><a href="class_c_draw_param_sigleton.html">CDrawParamSigleton</a></div><div class="ttdef"><b>Definition:</b> <a href="cdrawparamsigleton_8h_source.html#l00027">cdrawparamsigleton.h:27</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a51494d17a973a378d644178441d6ba63"><div class="ttname"><a href="class_c_draw_scene.html#a51494d17a973a378d644178441d6ba63">CDrawScene::recordSecenInfoToCmd</a></div><div class="ttdeci">void recordSecenInfoToCmd(int exptype, EVarUndoOrRedo varFor, const QList&lt; CGraphicsItem *&gt; &amp;items=QList&lt; CGraphicsItem *&gt;())</div><div class="ttdoc">recordSecenInfoToCmd 记录场景的对应类型的属性信息(当前仅支持组合情况的变化,因为其他需要带参数表示变化...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01549">cdrawscene.cpp:1549</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ab66811e984bd6d19b7f924d9cd1f5744"><div class="ttname"><a href="class_c_draw_scene.html#ab66811e984bd6d19b7f924d9cd1f5744">CDrawScene::mouseMoveEvent</a></div><div class="ttdeci">void mouseMoveEvent(QGraphicsSceneMouseEvent *mouseEvent) override</div><div class="ttdoc">mouseMoveEvent 鼠标移动事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00195">cdrawscene.cpp:195</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a3fdd52d7521130306da6b4c43354db9e"><div class="ttname"><a href="class_c_draw_scene.html#a3fdd52d7521130306da6b4c43354db9e">CDrawScene::getRootItems</a></div><div class="ttdeci">QList&lt; CGraphicsItem * &gt; getRootItems(ESortItemTp tp=EDesSort)</div><div class="ttdoc">getRootItems　获取场景中所有的根图元(包括顶根组合图元),即bzGroup(true) == nullptr的图元 ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01192">cdrawscene.cpp:1192</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aa61888fa91282dea15e21dc565a2fdec"><div class="ttname"><a href="class_c_draw_scene.html#aa61888fa91282dea15e21dc565a2fdec">CDrawScene::signalChangeToSelect</a></div><div class="ttdeci">void signalChangeToSelect(bool showTitle=false)</div><div class="ttdoc">signalChangeToSelect 发送工具栏切换为选择的信号 </div></div>
<div class="ttc" id="class_q_list_html"><div class="ttname"><a href="class_q_list.html">QList</a></div><div class="ttdef"><b>Definition:</b> <a href="dbuscontrolcenterservice_8h_source.html#l00049">dbuscontrolcenterservice.h:49</a></div></div>
<div class="ttc" id="class_c_graphics_item_group_html"><div class="ttname"><a href="class_c_graphics_item_group.html">CGraphicsItemGroup</a></div><div class="ttdoc">The CGraphicsItemGroup class 组合图元管理类 所有的图元操作都通过该类执行。 </div><div class="ttdef"><b>Definition:</b> <a href="cgraphicsitemselectedmgr_8h_source.html#l00015">cgraphicsitemselectedmgr.h:15</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a5e11b4fba4b7b36e0f90198b69b0068f"><div class="ttname"><a href="class_c_draw_scene.html#a5e11b4fba4b7b36e0f90198b69b0068f">CDrawScene::addCItem</a></div><div class="ttdeci">void addCItem(QGraphicsItem *pItem, bool calZ=true)</div><div class="ttdoc">addCItem　添加图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01008">cdrawscene.cpp:1008</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a0b83a7d05604afd52685142ebef40678"><div class="ttname"><a href="class_c_draw_scene.html#a0b83a7d05604afd52685142ebef40678">CDrawScene::blockMouseMoveEvent</a></div><div class="ttdeci">void blockMouseMoveEvent(bool b)</div><div class="ttdoc">阻止响应鼠标移动事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01539">cdrawscene.cpp:1539</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a7f6b6a7b9fa851a7424d8eb91e97a203"><div class="ttname"><a href="class_c_draw_scene.html#a7f6b6a7b9fa851a7424d8eb91e97a203">CDrawScene::signalAttributeChanged</a></div><div class="ttdeci">void signalAttributeChanged(bool flag, int primitiveType)</div><div class="ttdoc">signalAttributeChanged 发送属性栏更改的信号 </div></div>
<div class="ttc" id="class_c_draw_scene_html_ad5f2df0cdbf3465dfe87b243c320fea7"><div class="ttname"><a href="class_c_draw_scene.html#ad5f2df0cdbf3465dfe87b243c320fea7">CDrawScene::isNormalGroupItem</a></div><div class="ttdeci">static bool isNormalGroupItem(QGraphicsItem *pItem)</div><div class="ttdoc">isBzAssicaitedItem　是否是与基本业务图元有关联图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01069">cdrawscene.cpp:1069</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a18483cb96bd17c083423a356180a742d"><div class="ttname"><a href="class_c_draw_scene.html#a18483cb96bd17c083423a356180a742d">CDrawScene::cancelGroup</a></div><div class="ttdeci">void cancelGroup(CGraphicsItemGroup *pGroup=nullptr, bool pushUndo=false)</div><div class="ttdoc">creatGroup 取消当前选中的组合 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01746">cdrawscene.cpp:1746</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_ae5d1319e6276c2ff92c8a6c571dff6bd"><div class="ttname"><a href="class_c_draw_scene.html#ae5d1319e6276c2ff92c8a6c571dff6bd">CDrawScene::removeCItem</a></div><div class="ttdeci">void removeCItem(QGraphicsItem *pItem)</div><div class="ttdoc">removeCItem　删除图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01022">cdrawscene.cpp:1022</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a31776a51aa4bd382632f845ec05ab133"><div class="ttname"><a href="class_c_draw_scene.html#a31776a51aa4bd382632f845ec05ab133">CDrawScene::destoryAllGroup</a></div><div class="ttdeci">void destoryAllGroup(bool deleteIt=false, bool pushUndo=false)</div><div class="ttdoc">destoryAllGroup 销毁所有组合 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01820">cdrawscene.cpp:1820</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a8c57420756b36c102c1a06f258579695"><div class="ttname"><a href="class_c_draw_scene.html#a8c57420756b36c102c1a06f258579695">CDrawScene::copyCreatGroup</a></div><div class="ttdeci">static CGraphicsItemGroup * copyCreatGroup(CGraphicsItemGroup *pGroup)</div><div class="ttdoc">creatGroup 复制出一个和参数pGroup一样的组合(前提:该组合必须已经处于scene中,同时新创建的组合会被加入到...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01735">cdrawscene.cpp:1735</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a845e6473234dbf2b032cf87b488869e8"><div class="ttname"><a href="class_c_draw_scene.html#a845e6473234dbf2b032cf87b488869e8">CDrawScene::itemAdded</a></div><div class="ttdeci">void itemAdded(QGraphicsItem *item, bool pushToStack=true)</div><div class="ttdoc">itemAdded 增加图元 </div></div>
<div class="ttc" id="class_c_draw_scene_html_ab9bab0a9fce11c784342fd61cb2dbdc0"><div class="ttname"><a href="class_c_draw_scene.html#ab9bab0a9fce11c784342fd61cb2dbdc0">CDrawScene::keyEvent</a></div><div class="ttdeci">void keyEvent(QKeyEvent *keyEvent)</div><div class="ttdoc">keyEvent 从绘图工具返回键盘事件 </div></div>
<div class="ttc" id="class_c_draw_scene_html_a8327f52622f543d1267638c9145b0153"><div class="ttname"><a href="class_c_draw_scene.html#a8327f52622f543d1267638c9145b0153">CDrawScene::mouseReleaseEvent</a></div><div class="ttdeci">void mouseReleaseEvent(QGraphicsSceneMouseEvent *mouseEvent) override</div><div class="ttdoc">mouseReleaseEvent 鼠标放开事件 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00207">cdrawscene.cpp:207</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a960807f4f68ff85b3f373f4693990fac"><div class="ttname"><a href="class_c_draw_scene.html#a960807f4f68ff85b3f373f4693990fac">CDrawScene::resetScene</a></div><div class="ttdeci">void resetScene()</div><div class="ttdoc">initScene 初始化一个新的场景 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00093">cdrawscene.cpp:93</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a196e981b7e48bdb87c3021625befe3fa"><div class="ttname"><a href="class_c_draw_scene.html#a196e981b7e48bdb87c3021625befe3fa">CDrawScene::isBussizeHandleNodeItem</a></div><div class="ttdeci">static bool isBussizeHandleNodeItem(QGraphicsItem *pItem)</div><div class="ttdoc">isBussizeHandleNodeItem　是否是基本业务图元的节点图元 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01049">cdrawscene.cpp:1049</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_aa02c608f7470da05d9e14d54ea0aba18"><div class="ttname"><a href="class_c_draw_scene.html#aa02c608f7470da05d9e14d54ea0aba18">CDrawScene::bzGroups</a></div><div class="ttdeci">QList&lt; CGraphicsItemGroup * &gt; bzGroups()</div><div class="ttdoc">getGroup 通过一个业务图元获取到它所处的组合图元(返回空证明不在某个组合图元中,即不处于组合状态) ...</div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l01836">cdrawscene.cpp:1836</a></div></div>
<div class="ttc" id="class_c_draw_scene_html_a8a346ee523cf4da892d03f5c147d10d3"><div class="ttname"><a href="class_c_draw_scene.html#a8a346ee523cf4da892d03f5c147d10d3">CDrawScene::drawView</a></div><div class="ttdeci">CGraphicsView * drawView()</div><div class="ttdoc">drawView 返回视图指针 </div><div class="ttdef"><b>Definition:</b> <a href="cdrawscene_8cpp_source.html#l00120">cdrawscene.cpp:120</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_caff2b1fd7545ce757c8a3b9a7f3898b.html">deepin-draw</a></li><li class="navelem"><a class="el" href="dir_965b9c804c0c8766184e23b894154521.html">src</a></li><li class="navelem"><a class="el" href="dir_4918845f4b587318be6f85693383e83a.html">drawshape</a></li><li class="navelem"><b>cdrawscene.h</b></li>
    <li class="footer">生成于 2021年 二月 23日 星期二 16:39:13 , 为 develop-manual使用 
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
